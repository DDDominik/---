<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>js全选反选</title>
</head>
<style>
	.check,
	.check-all{
		width: 100px;
		height: 100px;
	}
	.check-re{
		width: 200px;
		height: 100px;
	}
	span,.check-re{
		font-size: 80px;
	}
</style>
<body>

<div id="tableBox" >

	<input type="checkbox" name="1" class="check"/>
	<input type="checkbox" name="1" class="check"/>
	<input type="checkbox" name="1" class="check"/>
	<input type="checkbox" name="1" class="check"/>
	<input type="checkbox" name="1" class="check"/><br>
	<span>全选</span>
	<input type="checkbox" name="0" class="check-all"/><br>
	<input type="button" value="反选" class="check-re"/>
</div>
	

<script>
(function() { 
//声明各种变量
	var tableBox = document.querySelector('div'),
	check = document.querySelectorAll('.check'),
	checkAll = document.querySelector('.check-all'),
	checkRe = document.querySelector('.check-re');

	//全选函数
	function allCheck(a){
		for(var i = 0; i<check.length; i++){
			check[i].checked = a;
		}
	}

	//反选函数
	function reCheck(){
		for(var i = 0; i<check.length; i++){
			//check[i].checked ? check[i].checked = false : check[i].checked = true;
			check[i].checked = !check[i].checked;
		}
	}

	//判断checkAll的状态
	function judge(){
		var m = 0;
		for(var i = 0; i<check.length; i++){
			if(check[i].checked == true){
				m ++;
			}else{
				break;
			}
		}
		if(m == check.length){
			checkAll.checked = true;
		}else{
			checkAll.checked = false;
		}
	}

	for(var i = 0; i<check.length; i++){
		check[i].addEventListener("change", function(){
			judge();
		},false);
	}


	//全选
	checkAll.onchange = function(){
		allCheck(this.checked);

	};


	//反选
	checkRe.onclick = function(){
		reCheck();
		judge()
	};



})(); 
</script>
</body>
</html>